// Copyright (c) 2016, Open DICOMweb Project. All rights reserved.
// Use of this source code is governed by the open source license
// that can be found in the LICENSE file.
// Author: Jim Philbin <jfphilbin@gmail.edu> - 
// See the AUTHORS file for other contributors.

import 'dart:io';


import 'package:dictionary/src/tag/public_tag.dart';
import 'package:dictionary/src/tag/tag_map.dart';

const String outputDir = "C:/odw/sdk/dictionary/tool/tag/gen/output";
const String codeMapPath = outputDir + '/public_tag_code_map.dart';
const String keywordMapPath = outputDir + '/public_tag_keyword_map.dart';

void main(args) {
  String s;
  File tagCodeFile = new File(codeMapPath);
  s = generateCodeMap(tagMap);
  //print(s);
  tagCodeFile.writeAsStringSync(s);

  File tagKeywordFile = new File(keywordMapPath);
  s = generateKeywordMap(tagMap);
  //print(s);
  tagKeywordFile.writeAsStringSync(s);

}

String generateCodeMap(Map<int, PublicTag> map) {
  var s = '''
// Copyright (c) 2016, Open DICOMweb Project. All rights reserved.
// Use of this source code is governed by the open source license
// that can be found in the LICENSE file.
// Author: Jim Philbin <jfphilbin@gmail.edu> -
// See the AUTHORS file for other contributors.

import 'package:dictionary/src/tag/public_tag.dart';

// *** This file generated by 'generate_public_tag_map.dart' ***
// ----------------------------------------------------------

// Ordered List of all DICOM attributes
  const Map<int, PublicTag> publicTagCodeMap = const {\n''';
  map.values.forEach((PublicTag tag) {
    s += '  ${tag.hex}: PublicTag.k${tag.keyword},\n';
  });
  return s += '};\n';
}

String generateKeywordMap(Map<int, PublicTag> map) {
  var s = '''
// Copyright (c) 2016, Open DICOMweb Project. All rights reserved.
// Use of this source code is governed by the open source license
// that can be found in the LICENSE file.
// Author: Jim Philbin <jfphilbin@gmail.edu> -
// See the AUTHORS file for other contributors.

import 'package:dictionary/src/tag/public_tag.dart';

// *** This file generated by 'generate_public_tag_map.dart' ***
// ----------------------------------------------------------

// Ordered List of all DICOM attributes
  const Map<int, PublicTag> publicTagKeywordMap = const {\n''';
  map.values.forEach((PublicTag tag) {
    s += '  "${tag.keyword}": PublicTag.k${tag.keyword},\n';
  });
  return s += '};\n';
}